<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Historical market data • geckor</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Historical market data">
<meta property="og:description" content="geckor">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geckor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/current-data.html">Current market data</a>
    </li>
    <li>
      <a href="../articles/historical-data.html">Historical market data</a>
    </li>
    <li>
      <a href="../articles/supported-currencies-and-exchanges.html">Supported coins, base currencies, and exchanges</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/next-game-solutions/geckor/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Historical market data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/next-game-solutions/geckor/blob/HEAD/vignettes/historical-data.Rmd" class="external-link"><code>vignettes/historical-data.Rmd</code></a></small>
      <div class="hidden name"><code>historical-data.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/next-game-solutions/geckor" class="external-link">geckor</a></span><span class="op">)</span></span></code></pre></div>
<p><code>geckor</code> has several functions that can retrieve
historical market data for cryptocurrencies. All of these functions have
the “<code>coin_history</code>” prefix in their names. In all of the
examples described below, we will be collecting historical data for
Bitcoin.</p>
<p>To obtain coin-specific market data for a given historical date, you
can use the <code><a href="../reference/coin_history_snapshot.html">coin_history_snapshot()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coin_history_snapshot.html">coin_history_snapshot</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span>,</span>
<span>  vs_currencies <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"usd"</span>, <span class="st">"eur"</span>, <span class="st">"gbp"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/coin_history_range.html">coin_history_range()</a></code> function can be used to query a
range of historical dates specified by the <code>from</code> and
<code>to</code> arguments, which expect POSIXct timestamps. The
granularity of the returned data depends on the requested range. Hourly
data will be retrieved for periods of up to 90 days, and daily data for
periods longer than 90 days:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Range of less than 1 day:</span></span>
<span><span class="fu"><a href="../reference/coin_history_range.html">coin_history_range</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-01-01 10:00:10"</span><span class="op">)</span>,</span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-01-01 20:45:10"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Range of &gt;90 days:</span></span>
<span><span class="fu"><a href="../reference/coin_history_range.html">coin_history_range</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span><span class="op">)</span>,</span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2021-05-01 00:00:00"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To retrieve historical data from the last <em>n</em> days only, use
the <code><a href="../reference/coin_history.html">coin_history()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">7</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In addition to numeric values, the <code>days</code> argument also
accepts a character value <code>"max"</code>, which results in
retrieving the entire existing history of market data for a coin
(<em>please note</em> that querying the entire history can take some
time):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="st">"max"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Notice the different data granularity in the last two examples.
Generally, if <code>days = 1</code> the data will be presented for
approximately every 3-8 minutes. If <code>days</code> is between 2 and
90 (inclusive), an hourly time step will be used. Daily data are used
for <code>days</code> above 90. You can use the <code>interval</code>
argument to control this granularity (by default,
<code>interval = NULL</code>), but at the moment the only value it
accepts is <code>"daily"</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Within-day data, with `interval = "daily"`:</span></span>
<span><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Less than 90 days, with `interval = "daily"`:</span></span>
<span><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># More than 90 days, with `interval = "daily"`:</span></span>
<span><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The open-high-low-close (<a href="https://en.wikipedia.org/wiki/Open-high-low-close_chart" class="external-link">OHLC</a>)
data characterise within-date and between-date price movements of a
financial asset. In <code>geckor</code>, you can retrieve this type of
data using the <code><a href="../reference/coin_history_ohlc.html">coin_history_ohlc()</a></code> function, which has the
same arguments as <code><a href="../reference/coin_history.html">coin_history()</a></code> except for not having the
<code>interval</code> argument. Granularity of the retrieved data
(i.e. candle’s body) depends on the value of <code>days</code> as
follows:</p>
<ul>
<li><p>1 day: 30 minutes</p></li>
<li><p>7 - 30 days: 4 hours</p></li>
<li><p>31 and above: 4 days</p></li>
</ul>
<p>The only values currently accepted by the <code>days</code> argument
are 1, 7, 14, 30, 90, 180, 365 and <code>"max"</code>. Here are some
examples:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 30-minutes granularity:</span></span>
<span><span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4-hours granularity:</span></span>
<span><span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">7</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4-days granularity:</span></span>
<span><span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">90</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4-days granularity:</span></span>
<span><span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="st">"max"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>As of v0.3.0 of the package, all of the <code>coin_history_*</code>
functions can retrieve data for up to 5 coins in one call. To do that,
you need to pass a vector of coin IDs to the <code>coin_id</code>
argument. In the following example, we collect market data from the last
2 days for Bitcoin, Cardano and Polkadot:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span></span>
<span>  coin_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bitcoin"</span>, <span class="st">"cardano"</span>, <span class="st">"polkadot"</span><span class="op">)</span>,</span>
<span>  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,</span>
<span>  days <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sergey Mastitsky.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
